<!DOCTYPE html>
<html >
<head><meta charset="utf-8">
<title>Loading</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Loading"><link rel="modulepreload" href="/selfhosted-apps-meta/app/mastodon/_payload.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/entry.9c3d475e.js"><link rel="preload" as="style" href="/selfhosted-apps-meta/_nuxt/entry.44565dd9.css"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/_commonjsHelpers.4216f5ac.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/default.ccfa822f.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/_id_.b94556fe.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/HighlightJs.10eef902.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/app.59fe1c10.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/query.27f48e32.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/cookie.c01368a7.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/query.c3f7607a.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/utils.acd428c8.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/composables.dc68efa6.js"><link rel="modulepreload" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/Section.abedeff7.js"><link rel="prefetch" as="script" crossorigin href="/selfhosted-apps-meta/_nuxt/error-component.15551c39.js"><link rel="stylesheet" href="/selfhosted-apps-meta/_nuxt/entry.44565dd9.css"></head>
<body ><div id="__nuxt"><div><!--[--><div><div class="bg-black text-white"><div class="px-4 py-2"><div class="flex justify-between"><a href="/selfhosted-apps-meta/" class=""> Self Hosted Apps Meta </a></div></div></div><div class="p-4"><!--[--><!--[--><div><div class="max-w-5xl mx-aut"><div class="flex items-center gap-10"><div><img class="h-24" src="https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/mastodon-banner.png"></div><div class="flex flex-col gap-2"><div class="text-3xl">mastodon</div><p>[{{ project_name|capitalize }}]({{ project_url }}) is a free, open-source social network server based on ActivityPub where users can follow friends and discover new ones..
</p><div class="flex gap-2"><!--[--><div><a target="_blank" href="https://hub.docker.com/r/linuxserver/mastodon" class="text-blue-500 underline">docker</a></div><div><a target="_blank" href="https://docs.linuxserver.io/images/docker-mastodon" class="text-blue-500 underline">docs</a></div><!--]--></div></div></div></div><div clas="mb-4"><div class="my-4 font-bold text-xl">Setup</div><div><!--[--><div class="bg-gray-100 rounded p-4"><div class="prose prose-sm max-w-none"><p>We provide aliases for the common commands that execute in the correct context so that environment variables from secrets are available to them:</p>
<ul>
<li>
<p>To generate keys for <code>SECRET_KEY_BASE</code> &amp; <code>OTP_SECRET</code> run <code>docker run --rm -it --entrypoint /bin/bash lscr.io/linuxserver/mastodon generate-secret</code> once for each.</p>
</li>
<li>
<p>To generate keys for <code>VAPID_PRIVATE_KEY</code> &amp; <code>VAPID_PUBLIC_KEY</code> run <code>docker run --rm -it --entrypoint /bin/bash lscr.io/linuxserver/mastodon generate-vapid</code></p>
</li>
</ul>
<p>Both of the secret generation aliases above can be run without any other setup having been carried out.</p>
<ul>
<li>To use <code>tootctl</code> you can run something like <code>docker exec -it lscr.io/linuxserver/mastodon /tootctl &lt;command&gt;</code></li>
</ul>
<p>Using <code>tootctl</code> requires you to complete the initial Mastodon configuration first.</p>
<p>This container <em>requires</em> separate postgres and redis instances to run.</p>
<p>We support all of the official <a href="https://docs.joinmastodon.org/admin/config">environment variables</a> for configuration. In place of adding them all to your run/compose you can use an env file such as <a href="https://github.com/mastodon/mastodon/blob/main/.env.production.sample">this example</a> from the upstream project.</p>
<p>For more information check out the <a href="https://docs.joinmastodon.org/">mastodon documentation</a>.</p>
<h3>Running separate sidekiq instances</h3>
<p>It is currently only supported to run a single queue per container instance <em>or</em> all queues in a single container instance.</p>
<p>All containers must share the same `/config`` mount and be on a common docker network.</p>
<h3>Strict reverse proxies</h3>
<p>This image automatically redirects to https with a self-signed certificate. If you are using a reverse proxy which validates certificates, you need to <a href="https://docs.linuxserver.io/faq#strict-proxy">disable this check for the container</a>.</p>
</div></div><!--]--></div></div><div clas="mb-4"><div class="my-4 font-bold text-xl">Docker Compose</div><div><!--[--><!--[--><pre class="whitespace-pre-wrap"><code># mastodon - Generated by SH-Apps-Meta

version: "3.8"
services:
  mastodon:
    image: linuxserver/mastodon
    container_name: mastodon
    restart: unless-stopped
    ports:
      #  Port for web frontend
      - 80:80
      #  Port for web frontend
      - 443:443
    volumes:
      #  Contains all relevant configuration files.
      - < /path/to/your/config>:/config
    environment:
      #  User ID
      - PUID=100
      #  Group ID
      - PGID=100
      #  Specify a timezone to use EG America/New_York
      - TZ=America/New_York
      #  This is the unique identifier of your server in the network. It cannot be safely changed later.
      - LOCAL_DOMAIN=example.com
      #  Redis server hostname
      - REDIS_HOST=redis
      #  Redis port
      - REDIS_PORT=6379
      #  Postgres database hostname
      - DB_HOST=db
      #  Postgres username
      - DB_USER=mastodon
      #  Postgres db name
      - DB_NAME=mastodon
      #  Postgres password
      - DB_PASS=mastodon
      #  Portgres port
      - DB_PORT=5432
      #  Enable or disable Elasticsearch (requires a separate ES instance)
      - ES_ENABLED=false
      #  Browser session secret. Changing it will break all active browser sessions.
      - SECRET_KEY_BASE=
      #  MFA secret. Changing it will break two-factor authentication.
      - OTP_SECRET=
      #  Push notification private key. Changing it will break push notifications.
      - VAPID_PRIVATE_KEY=
      #  Push notification public key. Changing it will break push notifications.
      - VAPID_PUBLIC_KEY=
      #  SMTP server for email notifications
      - SMTP_SERVER=mail.example.com
      #  SMTP server port
      - SMTP_PORT=25
      #  SMTP username
      - SMTP_LOGIN=
      #  SMTP password
      - SMTP_PASSWORD=
      #  From address for emails send from Mastodon
      - SMTP_FROM_ADDRESS=notifications@example.com
      #  Enable or disable S3 storage of uploaded files
      - S3_ENABLED=false
      #  This can be set if you want your server identifier to be different to the subdomain hosting Mastodon. See [https://docs.joinmastodon.org/admin/config/#basic](https://docs.joinmastodon.org/admin/config/#basic)
      - WEB_DOMAIN=mastodon.example.com
      #  Elasticsearch server hostname
      - ES_HOST=es
      #  Elasticsearch port
      - ES_PORT=9200
      #  Elasticsearch username
      - ES_USER=elastic
      #  Elasticsearch password
      - ES_PASS=elastic
      #  S3 bucket hostname
      - S3_BUCKET=
      #  S3 bucket access key ID
      - AWS_ACCESS_KEY_ID=
      #  S3 bucket secret access key
      - AWS_SECRET_ACCESS_KEY=
      #  Alternate hostname for object fetching if you are front the S3 connections.
      - S3_ALIAS_HOST=
      #  Only run the sidekiq service in this container instance. For large scale instances that need better queue handling.
      - SIDEKIQ_ONLY=false
      #  The name of the sidekiq queue to run in this container. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-queues).
      - SIDEKIQ_QUEUE=
      #  Set to `true` on the main container if you're running additional sidekiq instances. It will run the `default` queue.
      - SIDEKIQ_DEFAULT=false
      #  The number of threads for sidekiq to use. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads).
      - SIDEKIQ_THREADS=5
      #  The size of the DB connection pool, must be *at least* the same as `SIDEKIQ_THREADS`. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads).
      - DB_POOL=5
</code></pre><div><div class="text-xs cursor-pointer mt-1"> Toggle Comments </div></div><!--]--><!--]--></div></div><div clas="mb-4"><div class="my-4 font-bold text-xl">Portainer Stack</div><div><!--[--><!--[--><pre class="whitespace-pre-wrap"><code>{
    "type": 2,
    "title": "mastodon",
    "description": "[{{ project_name|capitalize }}]({{ project_url }}) is a free, open-source social network server based on ActivityPub where users can follow friends and discover new ones..\n",
    "note": "Generated by SH-Apps-Meta",
    "platform": "linux",
    "logo": "https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/mastodon-banner.png",
    "categories": [
        "sh-apps-meta"
    ],
    "env": [
        {
            "name": "PUID",
            "label": "PUID",
            "description": "User ID",
            "default": "100"
        },
        {
            "name": "PGID",
            "label": "PGID",
            "description": "Group ID",
            "default": "100"
        },
        {
            "name": "TZ",
            "label": "TZ",
            "description": "Specify a timezone to use EG America/New_York",
            "default": "America/New_York"
        },
        {
            "name": "LOCAL_DOMAIN",
            "label": "LOCAL_DOMAIN",
            "description": "This is the unique identifier of your server in the network. It cannot be safely changed later.",
            "default": "example.com"
        },
        {
            "name": "REDIS_HOST",
            "label": "REDIS_HOST",
            "description": "Redis server hostname",
            "default": "redis"
        },
        {
            "name": "REDIS_PORT",
            "label": "REDIS_PORT",
            "description": "Redis port",
            "default": "6379"
        },
        {
            "name": "DB_HOST",
            "label": "DB_HOST",
            "description": "Postgres database hostname",
            "default": "db"
        },
        {
            "name": "DB_USER",
            "label": "DB_USER",
            "description": "Postgres username",
            "default": "mastodon"
        },
        {
            "name": "DB_NAME",
            "label": "DB_NAME",
            "description": "Postgres db name",
            "default": "mastodon"
        },
        {
            "name": "DB_PASS",
            "label": "DB_PASS",
            "description": "Postgres password",
            "default": "mastodon"
        },
        {
            "name": "DB_PORT",
            "label": "DB_PORT",
            "description": "Portgres port",
            "default": "5432"
        },
        {
            "name": "ES_ENABLED",
            "label": "ES_ENABLED",
            "description": "Enable or disable Elasticsearch (requires a separate ES instance)",
            "default": "false"
        },
        {
            "name": "SECRET_KEY_BASE",
            "label": "SECRET_KEY_BASE",
            "description": "Browser session secret. Changing it will break all active browser sessions.",
            "default": ""
        },
        {
            "name": "OTP_SECRET",
            "label": "OTP_SECRET",
            "description": "MFA secret. Changing it will break two-factor authentication.",
            "default": ""
        },
        {
            "name": "VAPID_PRIVATE_KEY",
            "label": "VAPID_PRIVATE_KEY",
            "description": "Push notification private key. Changing it will break push notifications.",
            "default": ""
        },
        {
            "name": "VAPID_PUBLIC_KEY",
            "label": "VAPID_PUBLIC_KEY",
            "description": "Push notification public key. Changing it will break push notifications.",
            "default": ""
        },
        {
            "name": "SMTP_SERVER",
            "label": "SMTP_SERVER",
            "description": "SMTP server for email notifications",
            "default": "mail.example.com"
        },
        {
            "name": "SMTP_PORT",
            "label": "SMTP_PORT",
            "description": "SMTP server port",
            "default": "25"
        },
        {
            "name": "SMTP_LOGIN",
            "label": "SMTP_LOGIN",
            "description": "SMTP username",
            "default": ""
        },
        {
            "name": "SMTP_PASSWORD",
            "label": "SMTP_PASSWORD",
            "description": "SMTP password",
            "default": ""
        },
        {
            "name": "SMTP_FROM_ADDRESS",
            "label": "SMTP_FROM_ADDRESS",
            "description": "From address for emails send from Mastodon",
            "default": "notifications@example.com"
        },
        {
            "name": "S3_ENABLED",
            "label": "S3_ENABLED",
            "description": "Enable or disable S3 storage of uploaded files",
            "default": "false"
        },
        {
            "name": "WEB_DOMAIN",
            "label": "WEB_DOMAIN",
            "description": "This can be set if you want your server identifier to be different to the subdomain hosting Mastodon. See [https://docs.joinmastodon.org/admin/config/#basic](https://docs.joinmastodon.org/admin/config/#basic)",
            "default": "mastodon.example.com"
        },
        {
            "name": "ES_HOST",
            "label": "ES_HOST",
            "description": "Elasticsearch server hostname",
            "default": "es"
        },
        {
            "name": "ES_PORT",
            "label": "ES_PORT",
            "description": "Elasticsearch port",
            "default": "9200"
        },
        {
            "name": "ES_USER",
            "label": "ES_USER",
            "description": "Elasticsearch username",
            "default": "elastic"
        },
        {
            "name": "ES_PASS",
            "label": "ES_PASS",
            "description": "Elasticsearch password",
            "default": "elastic"
        },
        {
            "name": "S3_BUCKET",
            "label": "S3_BUCKET",
            "description": "S3 bucket hostname",
            "default": ""
        },
        {
            "name": "AWS_ACCESS_KEY_ID",
            "label": "AWS_ACCESS_KEY_ID",
            "description": "S3 bucket access key ID",
            "default": ""
        },
        {
            "name": "AWS_SECRET_ACCESS_KEY",
            "label": "AWS_SECRET_ACCESS_KEY",
            "description": "S3 bucket secret access key",
            "default": ""
        },
        {
            "name": "S3_ALIAS_HOST",
            "label": "S3_ALIAS_HOST",
            "description": "Alternate hostname for object fetching if you are front the S3 connections.",
            "default": ""
        },
        {
            "name": "SIDEKIQ_ONLY",
            "label": "SIDEKIQ_ONLY",
            "description": "Only run the sidekiq service in this container instance. For large scale instances that need better queue handling.",
            "default": "false"
        },
        {
            "name": "SIDEKIQ_QUEUE",
            "label": "SIDEKIQ_QUEUE",
            "description": "The name of the sidekiq queue to run in this container. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-queues).",
            "default": ""
        },
        {
            "name": "SIDEKIQ_DEFAULT",
            "label": "SIDEKIQ_DEFAULT",
            "description": "Set to `true` on the main container if you're running additional sidekiq instances. It will run the `default` queue.",
            "default": "false"
        },
        {
            "name": "SIDEKIQ_THREADS",
            "label": "SIDEKIQ_THREADS",
            "description": "The number of threads for sidekiq to use. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads).",
            "default": "5"
        },
        {
            "name": "DB_POOL",
            "label": "DB_POOL",
            "description": "The size of the DB connection pool, must be *at least* the same as `SIDEKIQ_THREADS`. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads).",
            "default": "5"
        }
    ],
    "repository": {
        "url": "https://github.com/tylergets/selfhosted-apps-meta",
        "stackfile": "content/portainer/stack/mastodon.yml"
    }
}</code></pre><div><div class="text-xs cursor-pointer mt-1"> Toggle Comments </div></div><!--]--><!--]--></div></div><div clas="mb-4"><div class="my-4 font-bold text-xl">Complete Meta Data</div><div><!--[--><!--[--><pre class="whitespace-pre-wrap"><code>{
    "_path": "/apps/mastodon",
    "_dir": "apps",
    "_draft": false,
    "_partial": false,
    "_locale": "en",
    "id": "mastodon",
    "name": "mastodon",
    "description": "[{{ project_name|capitalize }}]({{ project_url }}) is a free, open-source social network server based on ActivityPub where users can follow friends and discover new ones..\n",
    "icon": "https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/mastodon-banner.png",
    "links": [
        {
            "type": "docker",
            "url": "https://hub.docker.com/r/linuxserver/mastodon"
        },
        {
            "type": "docs",
            "url": "https://docs.linuxserver.io/images/docker-mastodon"
        }
    ],
    "containers": [
        {
            "name": "mastodon",
            "image": "linuxserver/mastodon",
            "env": [
                {
                    "id": "PUID",
                    "key": "PUID",
                    "description": "User ID",
                    "default": "100"
                },
                {
                    "id": "PGID",
                    "key": "PGID",
                    "description": "Group ID",
                    "default": "100"
                },
                {
                    "id": "TZ",
                    "default": "America/New_York",
                    "description": "Specify a timezone to use EG America/New_York"
                },
                {
                    "id": "LOCAL_DOMAIN",
                    "default": "example.com",
                    "description": "This is the unique identifier of your server in the network. It cannot be safely changed later."
                },
                {
                    "id": "REDIS_HOST",
                    "default": "redis",
                    "description": "Redis server hostname"
                },
                {
                    "id": "REDIS_PORT",
                    "default": "6379",
                    "description": "Redis port"
                },
                {
                    "id": "DB_HOST",
                    "default": "db",
                    "description": "Postgres database hostname"
                },
                {
                    "id": "DB_USER",
                    "default": "mastodon",
                    "description": "Postgres username"
                },
                {
                    "id": "DB_NAME",
                    "default": "mastodon",
                    "description": "Postgres db name"
                },
                {
                    "id": "DB_PASS",
                    "default": "mastodon",
                    "description": "Postgres password"
                },
                {
                    "id": "DB_PORT",
                    "default": "5432",
                    "description": "Portgres port"
                },
                {
                    "id": "ES_ENABLED",
                    "default": "false",
                    "description": "Enable or disable Elasticsearch (requires a separate ES instance)"
                },
                {
                    "id": "SECRET_KEY_BASE",
                    "default": "",
                    "description": "Browser session secret. Changing it will break all active browser sessions."
                },
                {
                    "id": "OTP_SECRET",
                    "default": "",
                    "description": "MFA secret. Changing it will break two-factor authentication."
                },
                {
                    "id": "VAPID_PRIVATE_KEY",
                    "default": "",
                    "description": "Push notification private key. Changing it will break push notifications."
                },
                {
                    "id": "VAPID_PUBLIC_KEY",
                    "default": "",
                    "description": "Push notification public key. Changing it will break push notifications."
                },
                {
                    "id": "SMTP_SERVER",
                    "default": "mail.example.com",
                    "description": "SMTP server for email notifications"
                },
                {
                    "id": "SMTP_PORT",
                    "default": "25",
                    "description": "SMTP server port"
                },
                {
                    "id": "SMTP_LOGIN",
                    "default": "",
                    "description": "SMTP username"
                },
                {
                    "id": "SMTP_PASSWORD",
                    "default": "",
                    "description": "SMTP password"
                },
                {
                    "id": "SMTP_FROM_ADDRESS",
                    "default": "notifications@example.com",
                    "description": "From address for emails send from Mastodon"
                },
                {
                    "id": "S3_ENABLED",
                    "default": "false",
                    "description": "Enable or disable S3 storage of uploaded files"
                },
                {
                    "id": "WEB_DOMAIN",
                    "default": "mastodon.example.com",
                    "description": "This can be set if you want your server identifier to be different to the subdomain hosting Mastodon. See [https://docs.joinmastodon.org/admin/config/#basic](https://docs.joinmastodon.org/admin/config/#basic)"
                },
                {
                    "id": "ES_HOST",
                    "default": "es",
                    "description": "Elasticsearch server hostname"
                },
                {
                    "id": "ES_PORT",
                    "default": "9200",
                    "description": "Elasticsearch port"
                },
                {
                    "id": "ES_USER",
                    "default": "elastic",
                    "description": "Elasticsearch username"
                },
                {
                    "id": "ES_PASS",
                    "default": "elastic",
                    "description": "Elasticsearch password"
                },
                {
                    "id": "S3_BUCKET",
                    "default": "",
                    "description": "S3 bucket hostname"
                },
                {
                    "id": "AWS_ACCESS_KEY_ID",
                    "default": "",
                    "description": "S3 bucket access key ID"
                },
                {
                    "id": "AWS_SECRET_ACCESS_KEY",
                    "default": "",
                    "description": "S3 bucket secret access key"
                },
                {
                    "id": "S3_ALIAS_HOST",
                    "default": "",
                    "description": "Alternate hostname for object fetching if you are front the S3 connections."
                },
                {
                    "id": "SIDEKIQ_ONLY",
                    "default": "false",
                    "description": "Only run the sidekiq service in this container instance. For large scale instances that need better queue handling."
                },
                {
                    "id": "SIDEKIQ_QUEUE",
                    "default": "",
                    "description": "The name of the sidekiq queue to run in this container. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-queues)."
                },
                {
                    "id": "SIDEKIQ_DEFAULT",
                    "default": "false",
                    "description": "Set to `true` on the main container if you're running additional sidekiq instances. It will run the `default` queue."
                },
                {
                    "id": "SIDEKIQ_THREADS",
                    "default": "5",
                    "description": "The number of threads for sidekiq to use. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads)."
                },
                {
                    "id": "DB_POOL",
                    "default": "5",
                    "description": "The size of the DB connection pool, must be *at least* the same as `SIDEKIQ_THREADS`. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads)."
                }
            ],
            "volumes": [
                {
                    "container": "/config",
                    "description": "Contains all relevant configuration files.",
                    "key": "config"
                }
            ],
            "ports": [
                {
                    "container": "80",
                    "description": "Port for web frontend",
                    "protocol": "tcp",
                    "web": false
                },
                {
                    "container": "443",
                    "description": "Port for web frontend",
                    "protocol": "tcp",
                    "web": false
                }
            ]
        }
    ],
    "meta": {
        "readme-vars": {
            "project_name": "mastodon",
            "project_url": "https://github.com/mastodon/mastodon/",
            "project_logo": "https://raw.githubusercontent.com/linuxserver/docker-templates/master/linuxserver.io/img/mastodon-banner.png",
            "project_blurb": "[{{ project_name|capitalize }}]({{ project_url }}) is a free, open-source social network server based on ActivityPub where users can follow friends and discover new ones..\n",
            "project_lsio_github_repo_url": "https://github.com/linuxserver/docker-{{ project_name }}",
            "available_architectures": [
                {
                    "arch": "{{ arch_x86_64 }}",
                    "tag": "amd64-latest"
                },
                {
                    "arch": "{{ arch_arm64 }}",
                    "tag": "arm64v8-latest"
                }
            ],
            "development_versions": true,
            "development_versions_items": [
                {
                    "tag": "latest",
                    "desc": "Stable releases."
                },
                {
                    "tag": "develop",
                    "desc": "Pre-releases *only*."
                }
            ],
            "common_param_env_vars_enabled": true,
            "param_container_name": "{{ project_name }}",
            "param_usage_include_env": true,
            "param_env_vars": [
                {
                    "env_var": "TZ",
                    "env_value": "America/New_York",
                    "desc": "Specify a timezone to use EG America/New_York"
                },
                {
                    "env_var": "LOCAL_DOMAIN",
                    "env_value": "example.com",
                    "desc": "This is the unique identifier of your server in the network. It cannot be safely changed later."
                },
                {
                    "env_var": "REDIS_HOST",
                    "env_value": "redis",
                    "desc": "Redis server hostname"
                },
                {
                    "env_var": "REDIS_PORT",
                    "env_value": "6379",
                    "desc": "Redis port"
                },
                {
                    "env_var": "DB_HOST",
                    "env_value": "db",
                    "desc": "Postgres database hostname"
                },
                {
                    "env_var": "DB_USER",
                    "env_value": "mastodon",
                    "desc": "Postgres username"
                },
                {
                    "env_var": "DB_NAME",
                    "env_value": "mastodon",
                    "desc": "Postgres db name"
                },
                {
                    "env_var": "DB_PASS",
                    "env_value": "mastodon",
                    "desc": "Postgres password"
                },
                {
                    "env_var": "DB_PORT",
                    "env_value": "5432",
                    "desc": "Portgres port"
                },
                {
                    "env_var": "ES_ENABLED",
                    "env_value": "false",
                    "desc": "Enable or disable Elasticsearch (requires a separate ES instance)"
                },
                {
                    "env_var": "SECRET_KEY_BASE",
                    "env_value": "",
                    "desc": "Browser session secret. Changing it will break all active browser sessions."
                },
                {
                    "env_var": "OTP_SECRET",
                    "env_value": "",
                    "desc": "MFA secret. Changing it will break two-factor authentication."
                },
                {
                    "env_var": "VAPID_PRIVATE_KEY",
                    "env_value": "",
                    "desc": "Push notification private key. Changing it will break push notifications."
                },
                {
                    "env_var": "VAPID_PUBLIC_KEY",
                    "env_value": "",
                    "desc": "Push notification public key. Changing it will break push notifications."
                },
                {
                    "env_var": "SMTP_SERVER",
                    "env_value": "mail.example.com",
                    "desc": "SMTP server for email notifications"
                },
                {
                    "env_var": "SMTP_PORT",
                    "env_value": "25",
                    "desc": "SMTP server port"
                },
                {
                    "env_var": "SMTP_LOGIN",
                    "env_value": "",
                    "desc": "SMTP username"
                },
                {
                    "env_var": "SMTP_PASSWORD",
                    "env_value": "",
                    "desc": "SMTP password"
                },
                {
                    "env_var": "SMTP_FROM_ADDRESS",
                    "env_value": "notifications@example.com",
                    "desc": "From address for emails send from Mastodon"
                },
                {
                    "env_var": "S3_ENABLED",
                    "env_value": "false",
                    "desc": "Enable or disable S3 storage of uploaded files"
                }
            ],
            "opt_param_usage_include_env": true,
            "opt_param_env_vars": [
                {
                    "env_var": "WEB_DOMAIN",
                    "env_value": "mastodon.example.com",
                    "desc": "This can be set if you want your server identifier to be different to the subdomain hosting Mastodon. See [https://docs.joinmastodon.org/admin/config/#basic](https://docs.joinmastodon.org/admin/config/#basic)"
                },
                {
                    "env_var": "ES_HOST",
                    "env_value": "es",
                    "desc": "Elasticsearch server hostname"
                },
                {
                    "env_var": "ES_PORT",
                    "env_value": "9200",
                    "desc": "Elasticsearch port"
                },
                {
                    "env_var": "ES_USER",
                    "env_value": "elastic",
                    "desc": "Elasticsearch username"
                },
                {
                    "env_var": "ES_PASS",
                    "env_value": "elastic",
                    "desc": "Elasticsearch password"
                },
                {
                    "env_var": "S3_BUCKET",
                    "env_value": "",
                    "desc": "S3 bucket hostname"
                },
                {
                    "env_var": "AWS_ACCESS_KEY_ID",
                    "env_value": "",
                    "desc": "S3 bucket access key ID"
                },
                {
                    "env_var": "AWS_SECRET_ACCESS_KEY",
                    "env_value": "",
                    "desc": "S3 bucket secret access key"
                },
                {
                    "env_var": "S3_ALIAS_HOST",
                    "env_value": "",
                    "desc": "Alternate hostname for object fetching if you are front the S3 connections."
                },
                {
                    "env_var": "SIDEKIQ_ONLY",
                    "env_value": "false",
                    "desc": "Only run the sidekiq service in this container instance. For large scale instances that need better queue handling."
                },
                {
                    "env_var": "SIDEKIQ_QUEUE",
                    "env_value": "",
                    "desc": "The name of the sidekiq queue to run in this container. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-queues)."
                },
                {
                    "env_var": "SIDEKIQ_DEFAULT",
                    "env_value": "false",
                    "desc": "Set to `true` on the main container if you're running additional sidekiq instances. It will run the `default` queue."
                },
                {
                    "env_var": "SIDEKIQ_THREADS",
                    "env_value": "5",
                    "desc": "The number of threads for sidekiq to use. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads)."
                },
                {
                    "env_var": "DB_POOL",
                    "env_value": "5",
                    "desc": "The size of the DB connection pool, must be *at least* the same as `SIDEKIQ_THREADS`. See [notes](https://docs.joinmastodon.org/admin/scaling/#sidekiq-threads)."
                }
            ],
            "param_usage_include_ports": true,
            "param_ports": [
                {
                    "external_port": "80",
                    "internal_port": "80",
                    "port_desc": "Port for web frontend"
                },
                {
                    "external_port": "443",
                    "internal_port": "443",
                    "port_desc": "Port for web frontend"
                }
            ],
            "param_usage_include_vols": true,
            "param_volumes": [
                {
                    "vol_path": "/config",
                    "vol_host_path": "/path/to/appdata/config",
                    "desc": "Contains all relevant configuration files."
                }
            ],
            "app_setup_block_enabled": true,
            "app_setup_block": "We provide aliases for the common commands that execute in the correct context so that environment variables from secrets are available to them:\n\n* To generate keys for `SECRET_KEY_BASE` & `OTP_SECRET` run `docker run --rm -it --entrypoint /bin/bash lscr.io/linuxserver/mastodon generate-secret` once for each.\n\n* To generate keys for `VAPID_PRIVATE_KEY` & `VAPID_PUBLIC_KEY` run `docker run --rm -it --entrypoint /bin/bash lscr.io/linuxserver/mastodon generate-vapid`\n\nBoth of the secret generation aliases above can be run without any other setup having been carried out.\n\n* To use `tootctl` you can run something like `docker exec -it lscr.io/linuxserver/mastodon /tootctl <command>`\n\nUsing `tootctl` requires you to complete the initial Mastodon configuration first.\n\nThis container *requires* separate postgres and redis instances to run.\n\nWe support all of the official [environment variables](https://docs.joinmastodon.org/admin/config) for configuration. In place of adding them all to your run/compose you can use an env file such as [this example](https://github.com/mastodon/mastodon/blob/main/.env.production.sample) from the upstream project.\n\nFor more information check out the [mastodon documentation](https://docs.joinmastodon.org/).\n\n### Running separate sidekiq instances\n\nIt is currently only supported to run a single queue per container instance *or* all queues in a single container instance.\n\nAll containers must share the same `/config`` mount and be on a common docker network.\n\n### Strict reverse proxies\n\nThis image automatically redirects to https with a self-signed certificate. If you are using a reverse proxy which validates certificates, you need to [disable this check for the container](https://docs.linuxserver.io/faq#strict-proxy).\n",
            "changelogs": [
                {
                    "date": "09.01.23:",
                    "desc": "Updated nginx conf to fix bring inline with Mastodon configuration (fixes Elk integration)."
                },
                {
                    "date": "19.12.22:",
                    "desc": "Support separate sidekiq queue instances."
                },
                {
                    "date": "05.11.22:",
                    "desc": "Initial Release."
                }
            ]
        }
    },
    "setup": "We provide aliases for the common commands that execute in the correct context so that environment variables from secrets are available to them:\n\n* To generate keys for `SECRET_KEY_BASE` & `OTP_SECRET` run `docker run --rm -it --entrypoint /bin/bash lscr.io/linuxserver/mastodon generate-secret` once for each.\n\n* To generate keys for `VAPID_PRIVATE_KEY` & `VAPID_PUBLIC_KEY` run `docker run --rm -it --entrypoint /bin/bash lscr.io/linuxserver/mastodon generate-vapid`\n\nBoth of the secret generation aliases above can be run without any other setup having been carried out.\n\n* To use `tootctl` you can run something like `docker exec -it lscr.io/linuxserver/mastodon /tootctl <command>`\n\nUsing `tootctl` requires you to complete the initial Mastodon configuration first.\n\nThis container *requires* separate postgres and redis instances to run.\n\nWe support all of the official [environment variables](https://docs.joinmastodon.org/admin/config) for configuration. In place of adding them all to your run/compose you can use an env file such as [this example](https://github.com/mastodon/mastodon/blob/main/.env.production.sample) from the upstream project.\n\nFor more information check out the [mastodon documentation](https://docs.joinmastodon.org/).\n\n### Running separate sidekiq instances\n\nIt is currently only supported to run a single queue per container instance *or* all queues in a single container instance.\n\nAll containers must share the same `/config`` mount and be on a common docker network.\n\n### Strict reverse proxies\n\nThis image automatically redirects to https with a self-signed certificate. If you are using a reverse proxy which validates certificates, you need to [disable this check for the container](https://docs.linuxserver.io/faq#strict-proxy).\n",
    "_id": "content:apps:mastodon.json",
    "_type": "json",
    "title": "Mastodon",
    "_source": "content",
    "_file": "apps/mastodon.json",
    "_extension": "json"
}</code></pre><div><div class="text-xs cursor-pointer mt-1"> Toggle Comments </div></div><!--]--><!--]--></div></div></div><!--]--><!--]--></div></div><!--]--></div></div><script type="module">import p from "/selfhosted-apps-meta/app/mastodon/_payload.js";window.__NUXT__={...p,...((function(a,b,c){return {state:{},_errors:{},serverRendered:c,config:{public:{content:{locales:[],integrity:1675118172154,experimental:{stripQueryParameters:a,clientDB:a},api:{baseURL:"\u002Fapi\u002F_content"},navigation:{fields:[]},tags:{p:"prose-p",a:"prose-a",blockquote:"prose-blockquote","code-inline":"prose-code-inline",code:"prose-code",em:"prose-em",h1:"prose-h1",h2:"prose-h2",h3:"prose-h3",h4:"prose-h4",h5:"prose-h5",h6:"prose-h6",hr:"prose-hr",img:"prose-img",ul:"prose-ul",ol:"prose-ol",li:"prose-li",strong:"prose-strong",table:"prose-table",thead:"prose-thead",tbody:"prose-tbody",td:"prose-td",th:"prose-th",tr:"prose-tr"},highlight:a,wsUrl:b,documentDriven:a,host:b,trailingSlash:a,anchorLinks:{depth:4,exclude:[1]}}},app:{baseURL:"\u002Fselfhosted-apps-meta\u002F",buildAssetsDir:"\u002F_nuxt\u002F",cdnURL:b}},pinia:{app:{comments:c}},prerenderedAt:1675118189687}}(false,"",true)))}</script><script type="module" src="/selfhosted-apps-meta/_nuxt/entry.9c3d475e.js" crossorigin></script><script type="module" src="/selfhosted-apps-meta/_nuxt/default.ccfa822f.js" crossorigin></script><script type="module" src="/selfhosted-apps-meta/_nuxt/_id_.b94556fe.js" crossorigin></script><script type="module" src="/selfhosted-apps-meta/_nuxt/Section.abedeff7.js" crossorigin></script><script type="module" src="/selfhosted-apps-meta/_nuxt/HighlightJs.10eef902.js" crossorigin></script></body>
</html>