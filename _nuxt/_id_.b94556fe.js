import Dt from"./HighlightJs.10eef902.js";import{D as ft,y as at,E as ct,I as j,aa as Jt,ay as Kt,x as vt,T as Ut,ab as ce,ac as Te,av as T,az as Me,aA as Vt,aB as Rt,ag as Yt,ae as ue,aC as tt,ad as Q}from"./_commonjsHelpers.4216f5ac.js";import{u as qt,q as Qt}from"./query.27f48e32.js";import{u as Wt}from"./composables.dc68efa6.js";import{u as Gt}from"./app.59fe1c10.js";import de from"./Section.abedeff7.js";import"./entry.9c3d475e.js";import"./cookie.c01368a7.js";import"./query.c3f7607a.js";import"./utils.acd428c8.js";const Ke=Symbol.for("yaml.alias"),Fe=Symbol.for("yaml.document"),J=Symbol.for("yaml.map"),ut=Symbol.for("yaml.pair"),Se=Symbol.for("yaml.scalar"),Z=Symbol.for("yaml.seq"),B=Symbol.for("yaml.node.type"),x=t=>!!t&&typeof t=="object"&&t[B]===Ke,ve=t=>!!t&&typeof t=="object"&&t[B]===Fe,le=t=>!!t&&typeof t=="object"&&t[B]===J,I=t=>!!t&&typeof t=="object"&&t[B]===ut,N=t=>!!t&&typeof t=="object"&&t[B]===Se,fe=t=>!!t&&typeof t=="object"&&t[B]===Z;function A(t){if(t&&typeof t=="object")switch(t[B]){case J:case Z:return!0}return!1}function _(t){if(t&&typeof t=="object")switch(t[B]){case Ke:case J:case Se:case Z:return!0}return!1}const Ht=t=>(N(t)||A(t))&&!!t.anchor;class Ue{constructor(e){Object.defineProperty(this,B,{value:e})}clone(){const e=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(e.range=this.range.slice()),e}}const U=Symbol("break visit"),zt=Symbol("skip children"),ie=Symbol("remove node");function Y(t,e){const n=Xt(e);ve(t)?G(null,t.contents,n,Object.freeze([t]))===ie&&(t.contents=null):G(null,t,n,Object.freeze([]))}Y.BREAK=U;Y.SKIP=zt;Y.REMOVE=ie;function G(t,e,n,s){const i=Zt(t,e,n,s);if(_(i)||I(i))return xt(t,s,i),G(t,i,n,s);if(typeof i!="symbol"){if(A(e)){s=Object.freeze(s.concat(e));for(let r=0;r<e.items.length;++r){const o=G(r,e.items[r],n,s);if(typeof o=="number")r=o-1;else{if(o===U)return U;o===ie&&(e.items.splice(r,1),r-=1)}}}else if(I(e)){s=Object.freeze(s.concat(e));const r=G("key",e.key,n,s);if(r===U)return U;r===ie&&(e.key=null);const o=G("value",e.value,n,s);if(o===U)return U;o===ie&&(e.value=null)}}return i}function Xt(t){return typeof t=="object"&&(t.Collection||t.Node||t.Value)?Object.assign({Alias:t.Node,Map:t.Node,Scalar:t.Node,Seq:t.Node},t.Value&&{Map:t.Value,Scalar:t.Value,Seq:t.Value},t.Collection&&{Map:t.Collection,Seq:t.Collection},t):t}function Zt(t,e,n,s){var i,r,o,l,f;if(typeof n=="function")return n(t,e,s);if(le(e))return(i=n.Map)==null?void 0:i.call(n,t,e,s);if(fe(e))return(r=n.Seq)==null?void 0:r.call(n,t,e,s);if(I(e))return(o=n.Pair)==null?void 0:o.call(n,t,e,s);if(N(e))return(l=n.Scalar)==null?void 0:l.call(n,t,e,s);if(x(e))return(f=n.Alias)==null?void 0:f.call(n,t,e,s)}function xt(t,e,n){const s=e[e.length-1];if(A(s))s.items[t]=n;else if(I(s))t==="key"?s.key=n:s.value=n;else if(ve(s))s.contents=n;else{const i=x(s)?"alias":"scalar";throw new Error(`Cannot replace node with ${i} parent`)}}const en={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},tn=t=>t.replace(/[!,[\]{}]/g,e=>en[e]);class k{constructor(e,n){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},k.defaultYaml,e),this.tags=Object.assign({},k.defaultTags,n)}clone(){const e=new k(this.yaml,this.tags);return e.docStart=this.docStart,e}atDocument(){const e=new k(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:k.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},k.defaultTags);break}return e}add(e,n){this.atNextDocument&&(this.yaml={explicit:k.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},k.defaultTags),this.atNextDocument=!1);const s=e.trim().split(/[ \t]+/),i=s.shift();switch(i){case"%TAG":{if(s.length!==2&&(n(0,"%TAG directive should contain exactly two parts"),s.length<2))return!1;const[r,o]=s;return this.tags[r]=o,!0}case"%YAML":{if(this.yaml.explicit=!0,s.length!==1)return n(0,"%YAML directive should contain exactly one part"),!1;const[r]=s;if(r==="1.1"||r==="1.2")return this.yaml.version=r,!0;{const o=/^\d+\.\d+$/.test(r);return n(6,`Unsupported YAML version ${r}`,o),!1}}default:return n(0,`Unknown directive ${i}`,!0),!1}}tagName(e,n){if(e==="!")return"!";if(e[0]!=="!")return n(`Not a valid tag: ${e}`),null;if(e[1]==="<"){const o=e.slice(2,-1);return o==="!"||o==="!!"?(n(`Verbatim tags aren't resolved, so ${e} is invalid.`),null):(e[e.length-1]!==">"&&n("Verbatim tags must end with a >"),o)}const[,s,i]=e.match(/^(.*!)([^!]*)$/);i||n(`The ${e} tag has no suffix`);const r=this.tags[s];return r?r+decodeURIComponent(i):s==="!"?e:(n(`Could not resolve tag: ${e}`),null)}tagString(e){for(const[n,s]of Object.entries(this.tags))if(e.startsWith(s))return n+tn(e.substring(s.length));return e[0]==="!"?e:`!<${e}>`}toString(e){const n=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],s=Object.entries(this.tags);let i;if(e&&s.length>0&&_(e.contents)){const r={};Y(e.contents,(o,l)=>{_(l)&&l.tag&&(r[l.tag]=!0)}),i=Object.keys(r)}else i=[];for(const[r,o]of s)r==="!!"&&o==="tag:yaml.org,2002:"||(!e||i.some(l=>l.startsWith(o)))&&n.push(`%TAG ${r} ${o}`);return n.join(`
`)}}k.defaultYaml={explicit:!1,version:"1.2"};k.defaultTags={"!!":"tag:yaml.org,2002:"};function dt(t){if(/[\x00-\x19\s,[\]{}]/.test(t)){const n=`Anchor must not contain whitespace or control characters: ${JSON.stringify(t)}`;throw new Error(n)}return!0}function gt(t){const e=new Set;return Y(t,{Value(n,s){s.anchor&&e.add(s.anchor)}}),e}function ht(t,e){for(let n=1;;++n){const s=`${t}${n}`;if(!e.has(s))return s}}function nn(t,e){const n=[],s=new Map;let i=null;return{onAnchor:r=>{n.push(r),i||(i=gt(t));const o=ht(e,i);return i.add(o),o},setAnchors:()=>{for(const r of n){const o=s.get(r);if(typeof o=="object"&&o.anchor&&(N(o.node)||A(o.node)))o.node.anchor=o.anchor;else{const l=new Error("Failed to resolve repeated object (this should not happen)");throw l.source=r,l}}},sourceObjects:s}}class mt extends Ue{constructor(e){super(Ke),this.source=e,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(e){let n;return Y(e,{Node:(s,i)=>{if(i===this)return Y.BREAK;i.anchor===this.source&&(n=i)}}),n}toJSON(e,n){if(!n)return{source:this.source};const{anchors:s,doc:i,maxAliasCount:r}=n,o=this.resolve(i);if(!o){const f=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(f)}const l=s.get(o);if(!l||l.res===void 0){const f="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(f)}if(r>=0&&(l.count+=1,l.aliasCount===0&&(l.aliasCount=me(i,o,s)),l.count*l.aliasCount>r)){const f="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(f)}return l.res}toString(e,n,s){const i=`*${this.source}`;if(e){if(dt(this.source),e.options.verifyAliasOrder&&!e.anchors.has(this.source)){const r=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(r)}if(e.implicitKey)return`${i} `}return i}}function me(t,e,n){if(x(e)){const s=e.resolve(t),i=n&&s&&n.get(s);return i?i.count*i.aliasCount:0}else if(A(e)){let s=0;for(const i of e.items){const r=me(t,i,n);r>s&&(s=r)}return s}else if(I(e)){const s=me(t,e.key,n),i=me(t,e.value,n);return Math.max(s,i)}return 1}function C(t,e,n){if(Array.isArray(t))return t.map((s,i)=>C(s,String(i),n));if(t&&typeof t.toJSON=="function"){if(!n||!Ht(t))return t.toJSON(e,n);const s={aliasCount:0,count:1,res:void 0};n.anchors.set(t,s),n.onCreate=r=>{s.res=r,delete n.onCreate};const i=t.toJSON(e,n);return n.onCreate&&n.onCreate(i),i}return typeof t=="bigint"&&!(n!=null&&n.keep)?Number(t):t}const yt=t=>!t||typeof t!="function"&&typeof t!="object";class b extends Ue{constructor(e){super(Se),this.value=e}toJSON(e,n){return n!=null&&n.keep?this.value:C(this.value,e,n)}toString(){return String(this.value)}}b.BLOCK_FOLDED="BLOCK_FOLDED";b.BLOCK_LITERAL="BLOCK_LITERAL";b.PLAIN="PLAIN";b.QUOTE_DOUBLE="QUOTE_DOUBLE";b.QUOTE_SINGLE="QUOTE_SINGLE";const sn="tag:yaml.org,2002:";function rn(t,e,n){if(e){const s=n.filter(r=>r.tag===e),i=s.find(r=>!r.format)??s[0];if(!i)throw new Error(`Tag ${e} not found`);return i}return n.find(s=>{var i;return((i=s.identify)==null?void 0:i.call(s,t))&&!s.format})}function oe(t,e,n){var c,u;if(ve(t)&&(t=t.contents),_(t))return t;if(I(t)){const d=(u=(c=n.schema[J]).createNode)==null?void 0:u.call(c,n.schema,null,n);return d.items.push(t),d}(t instanceof String||t instanceof Number||t instanceof Boolean||typeof BigInt<"u"&&t instanceof BigInt)&&(t=t.valueOf());const{aliasDuplicateObjects:s,onAnchor:i,onTagObj:r,schema:o,sourceObjects:l}=n;let f;if(s&&t&&typeof t=="object"){if(f=l.get(t),f)return f.anchor||(f.anchor=i(t)),new mt(f.anchor);f={anchor:null,node:null},l.set(t,f)}e!=null&&e.startsWith("!!")&&(e=sn+e.slice(2));let a=rn(t,e,o.tags);if(!a){if(t&&typeof t.toJSON=="function"&&(t=t.toJSON()),!t||typeof t!="object"){const d=new b(t);return f&&(f.node=d),d}a=t instanceof Map?o[J]:Symbol.iterator in Object(t)?o[Z]:o[J]}r&&(r(a),delete n.onTagObj);const g=a!=null&&a.createNode?a.createNode(n.schema,t,n):new b(t);return e&&(g.tag=e),f&&(f.node=g),g}function be(t,e,n){let s=n;for(let i=e.length-1;i>=0;--i){const r=e[i];if(typeof r=="number"&&Number.isInteger(r)&&r>=0){const o=[];o[r]=s,s=o}else s=new Map([[r,s]])}return oe(s,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:t,sourceObjects:new Map})}const ne=t=>t==null||typeof t=="object"&&!!t[Symbol.iterator]().next().done;class Oe extends Ue{constructor(e,n){super(e),Object.defineProperty(this,"schema",{value:n,configurable:!0,enumerable:!1,writable:!0})}clone(e){const n=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return e&&(n.schema=e),n.items=n.items.map(s=>_(s)||I(s)?s.clone(e):s),this.range&&(n.range=this.range.slice()),n}addIn(e,n){if(ne(e))this.add(n);else{const[s,...i]=e,r=this.get(s,!0);if(A(r))r.addIn(i,n);else if(r===void 0&&this.schema)this.set(s,be(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}deleteIn(e){const[n,...s]=e;if(s.length===0)return this.delete(n);const i=this.get(n,!0);if(A(i))return i.deleteIn(s);throw new Error(`Expected YAML collection at ${n}. Remaining path: ${s}`)}getIn(e,n){const[s,...i]=e,r=this.get(s,!0);return i.length===0?!n&&N(r)?r.value:r:A(r)?r.getIn(i,n):void 0}hasAllNullValues(e){return this.items.every(n=>{if(!I(n))return!1;const s=n.value;return s==null||e&&N(s)&&s.value==null&&!s.commentBefore&&!s.comment&&!s.tag})}hasIn(e){const[n,...s]=e;if(s.length===0)return this.has(n);const i=this.get(n,!0);return A(i)?i.hasIn(s):!1}setIn(e,n){const[s,...i]=e;if(i.length===0)this.set(s,n);else{const r=this.get(s,!0);if(A(r))r.setIn(i,n);else if(r===void 0&&this.schema)this.set(s,be(this.schema,i,n));else throw new Error(`Expected YAML collection at ${s}. Remaining path: ${i}`)}}}Oe.maxFlowStringSingleLineLength=60;const on=t=>t.replace(/^(?!$)(?: $)?/gm,"#");function P(t,e){return/^\n+$/.test(t)?t.substring(1):e?t.replace(/^(?! *$)/gm,e):t}const D=(t,e,n)=>t.endsWith(`
`)?P(n,e):n.includes(`
`)?`
`+P(n,e):(t.endsWith(" ")?"":" ")+n,pt="flow",De="block",ye="quoted";function $e(t,e,n="flow",{indentAtStart:s,lineWidth:i=80,minContentWidth:r=20,onFold:o,onOverflow:l}={}){if(!i||i<0)return t;const f=Math.max(1+r,1+i-e.length);if(t.length<=f)return t;const a=[],g={};let c=i-e.length;typeof s=="number"&&(s>i-Math.max(2,r)?a.push(0):c=i-s);let u,d,p=!1,h=-1,m=-1,O=-1;n===De&&(h=nt(t,h),h!==-1&&(c=h+f));for(let w;w=t[h+=1];){if(n===ye&&w==="\\"){switch(m=h,t[h+1]){case"x":h+=3;break;case"u":h+=5;break;case"U":h+=9;break;default:h+=1}O=h}if(w===`
`)n===De&&(h=nt(t,h)),c=h+f,u=void 0;else{if(w===" "&&d&&d!==" "&&d!==`
`&&d!=="	"){const S=t[h+1];S&&S!==" "&&S!==`
`&&S!=="	"&&(u=h)}if(h>=c)if(u)a.push(u),c=u+f,u=void 0;else if(n===ye){for(;d===" "||d==="	";)d=w,w=t[h+=1],p=!0;const S=h>O+1?h-2:m-1;if(g[S])return t;a.push(S),g[S]=!0,c=S+f,u=void 0}else p=!0}d=w}if(p&&l&&l(),a.length===0)return t;o&&o();let y=t.slice(0,a[0]);for(let w=0;w<a.length;++w){const S=a[w],$=a[w+1]||t.length;S===0?y=`
${e}${t.slice(0,$)}`:(n===ye&&g[S]&&(y+=`${t[S]}\\`),y+=`
${e}${t.slice(S+1,$)}`)}return y}function nt(t,e){let n=t[e+1];for(;n===" "||n==="	";){do n=t[e+=1];while(n&&n!==`
`);n=t[e+1]}return e}const Ne=t=>({indentAtStart:t.indentAtStart,lineWidth:t.options.lineWidth,minContentWidth:t.options.minContentWidth}),Ee=t=>/^(%|---|\.\.\.)/m.test(t);function ln(t,e,n){if(!e||e<0)return!1;const s=e-n,i=t.length;if(i<=s)return!1;for(let r=0,o=0;r<i;++r)if(t[r]===`
`){if(r-o>s)return!0;if(o=r+1,i-o<=s)return!1}return!0}function re(t,e){const n=JSON.stringify(t);if(e.options.doubleQuotedAsJSON)return n;const{implicitKey:s}=e,i=e.options.doubleQuotedMinMultiLineLength,r=e.indent||(Ee(t)?"  ":"");let o="",l=0;for(let f=0,a=n[f];a;a=n[++f])if(a===" "&&n[f+1]==="\\"&&n[f+2]==="n"&&(o+=n.slice(l,f)+"\\ ",f+=1,l=f,a="\\"),a==="\\")switch(n[f+1]){case"u":{o+=n.slice(l,f);const g=n.substr(f+2,4);switch(g){case"0000":o+="\\0";break;case"0007":o+="\\a";break;case"000b":o+="\\v";break;case"001b":o+="\\e";break;case"0085":o+="\\N";break;case"00a0":o+="\\_";break;case"2028":o+="\\L";break;case"2029":o+="\\P";break;default:g.substr(0,2)==="00"?o+="\\x"+g.substr(2):o+=n.substr(f,6)}f+=5,l=f+1}break;case"n":if(s||n[f+2]==='"'||n.length<i)f+=1;else{for(o+=n.slice(l,f)+`

`;n[f+2]==="\\"&&n[f+3]==="n"&&n[f+4]!=='"';)o+=`
`,f+=2;o+=r,n[f+2]===" "&&(o+="\\"),f+=1,l=f+1}break;default:f+=1}return o=l?o+n.slice(l):n,s?o:$e(o,r,ye,Ne(e))}function Je(t,e){if(e.options.singleQuote===!1||e.implicitKey&&t.includes(`
`)||/[ \t]\n|\n[ \t]/.test(t))return re(t,e);const n=e.indent||(Ee(t)?"  ":""),s="'"+t.replace(/'/g,"''").replace(/\n+/g,`$&
${n}`)+"'";return e.implicitKey?s:$e(s,n,pt,Ne(e))}function H(t,e){const{singleQuote:n}=e.options;let s;if(n===!1)s=re;else{const i=t.includes('"'),r=t.includes("'");i&&!r?s=Je:r&&!i?s=re:s=n?Je:re}return s(t,e)}function pe({comment:t,type:e,value:n},s,i,r){const{blockQuote:o,commentString:l,lineWidth:f}=s.options;if(!o||/\n[\t ]+$/.test(n)||/^\s*$/.test(n))return H(n,s);const a=s.indent||(s.forceBlockIndent||Ee(n)?"  ":""),g=o==="literal"?!0:o==="folded"||e===b.BLOCK_FOLDED?!1:e===b.BLOCK_LITERAL?!0:!ln(n,f,a.length);if(!n)return g?`|
`:`>
`;let c,u;for(u=n.length;u>0;--u){const E=n[u-1];if(E!==`
`&&E!=="	"&&E!==" ")break}let d=n.substring(u);const p=d.indexOf(`
`);p===-1?c="-":n===d||p!==d.length-1?(c="+",r&&r()):c="",d&&(n=n.slice(0,-d.length),d[d.length-1]===`
`&&(d=d.slice(0,-1)),d=d.replace(/\n+(?!\n|$)/g,`$&${a}`));let h=!1,m,O=-1;for(m=0;m<n.length;++m){const E=n[m];if(E===" ")h=!0;else if(E===`
`)O=m;else break}let y=n.substring(0,O<m?O+1:m);y&&(n=n.substring(y.length),y=y.replace(/\n+/g,`$&${a}`));let S=(g?"|":">")+(h?a?"2":"1":"")+c;if(t&&(S+=" "+l(t.replace(/ ?[\r\n]+/g," ")),i&&i()),g)return n=n.replace(/\n+/g,`$&${a}`),`${S}
${a}${y}${n}${d}`;n=n.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${a}`);const $=$e(`${y}${n}${d}`,a,De,Ne(s));return`${S}
${a}${$}`}function fn(t,e,n,s){const{type:i,value:r}=t,{actualString:o,implicitKey:l,indent:f,indentStep:a,inFlow:g}=e;if(l&&/[\n[\]{},]/.test(r)||g&&/[[\]{},]/.test(r))return H(r,e);if(!r||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(r))return l||g||!r.includes(`
`)?H(r,e):pe(t,e,n,s);if(!l&&!g&&i!==b.PLAIN&&r.includes(`
`))return pe(t,e,n,s);if(Ee(r)){if(f==="")return e.forceBlockIndent=!0,pe(t,e,n,s);if(l&&f===a)return H(r,e)}const c=r.replace(/\n+/g,`$&
${f}`);if(o){const u=h=>{var m;return h.default&&h.tag!=="tag:yaml.org,2002:str"&&((m=h.test)==null?void 0:m.test(c))},{compat:d,tags:p}=e.doc.schema;if(p.some(u)||d!=null&&d.some(u))return H(r,e)}return l?c:$e(c,f,pt,Ne(e))}function Ve(t,e,n,s){const{implicitKey:i,inFlow:r}=e,o=typeof t.value=="string"?t:Object.assign({},t,{value:String(t.value)});let{type:l}=t;l!==b.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(o.value)&&(l=b.QUOTE_DOUBLE);const f=g=>{switch(g){case b.BLOCK_FOLDED:case b.BLOCK_LITERAL:return i||r?H(o.value,e):pe(o,e,n,s);case b.QUOTE_DOUBLE:return re(o.value,e);case b.QUOTE_SINGLE:return Je(o.value,e);case b.PLAIN:return fn(o,e,n,s);default:return null}};let a=f(l);if(a===null){const{defaultKeyType:g,defaultStringType:c}=e.options,u=i&&g||c;if(a=f(u),a===null)throw new Error(`Unsupported default string type ${u}`)}return a}function bt(t,e){const n=Object.assign({blockQuote:!0,commentString:on,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},t.schema.toStringOptions,e);let s;switch(n.collectionStyle){case"block":s=!1;break;case"flow":s=!0;break;default:s=null}return{anchors:new Set,doc:t,flowCollectionPadding:n.flowCollectionPadding?" ":"",indent:"",indentStep:typeof n.indent=="number"?" ".repeat(n.indent):"  ",inFlow:s,options:n}}function an(t,e){var i;if(e.tag){const r=t.filter(o=>o.tag===e.tag);if(r.length>0)return r.find(o=>o.format===e.format)??r[0]}let n,s;if(N(e)){s=e.value;const r=t.filter(o=>{var l;return(l=o.identify)==null?void 0:l.call(o,s)});n=r.find(o=>o.format===e.format)??r.find(o=>!o.format)}else s=e,n=t.find(r=>r.nodeClass&&s instanceof r.nodeClass);if(!n){const r=((i=s==null?void 0:s.constructor)==null?void 0:i.name)??typeof s;throw new Error(`Tag not resolved for ${r} value`)}return n}function cn(t,e,{anchors:n,doc:s}){if(!s.directives)return"";const i=[],r=(N(t)||A(t))&&t.anchor;r&&dt(r)&&(n.add(r),i.push(`&${r}`));const o=t.tag?t.tag:e.default?null:e.tag;return o&&i.push(s.directives.tagString(o)),i.join(" ")}function q(t,e,n,s){var f;if(I(t))return t.toString(e,n,s);if(x(t)){if(e.doc.directives)return t.toString(e);if((f=e.resolvedAliases)!=null&&f.has(t))throw new TypeError("Cannot stringify circular structure without alias nodes");e.resolvedAliases?e.resolvedAliases.add(t):e.resolvedAliases=new Set([t]),t=t.resolve(e.doc)}let i;const r=_(t)?t:e.doc.createNode(t,{onTagObj:a=>i=a});i||(i=an(e.doc.schema.tags,r));const o=cn(r,i,e);o.length>0&&(e.indentAtStart=(e.indentAtStart??0)+o.length+1);const l=typeof i.stringify=="function"?i.stringify(r,e,n,s):N(r)?Ve(r,e,n,s):r.toString(e,n,s);return o?N(r)||l[0]==="{"||l[0]==="["?`${o} ${l}`:`${o}
${e.indent}${l}`:l}function un({key:t,value:e},n,s,i){const{allNullValues:r,doc:o,indent:l,indentStep:f,options:{commentString:a,indentSeq:g,simpleKeys:c}}=n;let u=_(t)&&t.comment||null;if(c){if(u)throw new Error("With simple keys, key nodes cannot have comments");if(A(t)){const K="With simple keys, collection cannot be used as a key value";throw new Error(K)}}let d=!c&&(!t||u&&e==null&&!n.inFlow||A(t)||(N(t)?t.type===b.BLOCK_FOLDED||t.type===b.BLOCK_LITERAL:typeof t=="object"));n=Object.assign({},n,{allNullValues:!1,implicitKey:!d&&(c||!r),indent:l+f});let p=!1,h=!1,m=q(t,n,()=>p=!0,()=>h=!0);if(!d&&!n.inFlow&&m.length>1024){if(c)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");d=!0}if(n.inFlow){if(r||e==null)return p&&s&&s(),m===""?"?":d?`? ${m}`:m}else if(r&&!c||e==null&&d)return m=`? ${m}`,u&&!p?m+=D(m,n.indent,a(u)):h&&i&&i(),m;p&&(u=null),d?(u&&(m+=D(m,n.indent,a(u))),m=`? ${m}
${l}:`):(m=`${m}:`,u&&(m+=D(m,n.indent,a(u))));let O,y,w;_(e)?(O=!!e.spaceBefore,y=e.commentBefore,w=e.comment):(O=!1,y=null,w=null,e&&typeof e=="object"&&(e=o.createNode(e))),n.implicitKey=!1,!d&&!u&&N(e)&&(n.indentAtStart=m.length+1),h=!1,!g&&f.length>=2&&!n.inFlow&&!d&&fe(e)&&!e.flow&&!e.tag&&!e.anchor&&(n.indent=n.indent.substring(2));let S=!1;const $=q(e,n,()=>S=!0,()=>h=!0);let E=" ";if(u||O||y){if(E=O?`
`:"",y){const K=a(y);E+=`
${P(K,n.indent)}`}$===""&&!n.inFlow?E===`
`&&(E=`

`):E+=`
${n.indent}`}else if(!d&&A(e)){const K=$[0],Be=$.indexOf(`
`),xe=Be!==-1,Ft=n.inFlow??e.flow??e.items.length===0;if(xe||!Ft){let et=!1;if(xe&&(K==="&"||K==="!")){let v=$.indexOf(" ");K==="&"&&v!==-1&&v<Be&&$[v+1]==="!"&&(v=$.indexOf(" ",v+1)),(v===-1||Be<v)&&(et=!0)}et||(E=`
${n.indent}`)}}else($===""||$[0]===`
`)&&(E="");return m+=E+$,n.inFlow?S&&s&&s():w&&!S?m+=D(m,n.indent,a(w)):h&&i&&i(),m}function dn(t,e){(t==="debug"||t==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(e):console.warn(e))}const st="<<";function wt(t,e,{key:n,value:s}){if(t!=null&&t.doc.schema.merge&&gn(n))if(s=x(s)?s.resolve(t.doc):s,fe(s))for(const i of s.items)Ce(t,e,i);else if(Array.isArray(s))for(const i of s)Ce(t,e,i);else Ce(t,e,s);else{const i=C(n,"",t);if(e instanceof Map)e.set(i,C(s,i,t));else if(e instanceof Set)e.add(i);else{const r=hn(n,i,t),o=C(s,r,t);r in e?Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0}):e[r]=o}}return e}const gn=t=>t===st||N(t)&&t.value===st&&(!t.type||t.type===b.PLAIN);function Ce(t,e,n){const s=t&&x(n)?n.resolve(t.doc):n;if(!le(s))throw new Error("Merge sources must be maps or map aliases");const i=s.toJSON(null,t,Map);for(const[r,o]of i)e instanceof Map?e.has(r)||e.set(r,o):e instanceof Set?e.add(r):Object.prototype.hasOwnProperty.call(e,r)||Object.defineProperty(e,r,{value:o,writable:!0,enumerable:!0,configurable:!0});return e}function hn(t,e,n){if(e===null)return"";if(typeof e!="object")return String(e);if(_(t)&&n&&n.doc){const s=bt(n.doc,{});s.anchors=new Set;for(const r of n.anchors.keys())s.anchors.add(r.anchor);s.inFlow=!0,s.inStringifyKey=!0;const i=t.toString(s);if(!n.mapKeyWarned){let r=JSON.stringify(i);r.length>40&&(r=r.substring(0,36)+'..."'),dn(n.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${r}. Set mapAsMap: true to use object keys.`),n.mapKeyWarned=!0}return i}return JSON.stringify(e)}function Re(t,e,n){const s=oe(t,void 0,n),i=oe(e,void 0,n);return new L(s,i)}class L{constructor(e,n=null){Object.defineProperty(this,B,{value:ut}),this.key=e,this.value=n}clone(e){let{key:n,value:s}=this;return _(n)&&(n=n.clone(e)),_(s)&&(s=s.clone(e)),new L(n,s)}toJSON(e,n){const s=n!=null&&n.mapAsMap?new Map:{};return wt(n,s,this)}toString(e,n,s){return e!=null&&e.doc?un(this,e,n,s):JSON.stringify(this)}}function St(t,e,n){return(e.inFlow??t.flow?yn:mn)(t,e,n)}function mn({comment:t,items:e},n,{blockItemPrefix:s,flowChars:i,itemIndent:r,onChompKeep:o,onComment:l}){const{indent:f,options:{commentString:a}}=n,g=Object.assign({},n,{indent:r,type:null});let c=!1;const u=[];for(let p=0;p<e.length;++p){const h=e[p];let m=null;if(_(h))!c&&h.spaceBefore&&u.push(""),we(n,u,h.commentBefore,c),h.comment&&(m=h.comment);else if(I(h)){const y=_(h.key)?h.key:null;y&&(!c&&y.spaceBefore&&u.push(""),we(n,u,y.commentBefore,c))}c=!1;let O=q(h,g,()=>m=null,()=>c=!0);m&&(O+=D(O,r,a(m))),c&&m&&(c=!1),u.push(s+O)}let d;if(u.length===0)d=i.start+i.end;else{d=u[0];for(let p=1;p<u.length;++p){const h=u[p];d+=h?`
${f}${h}`:`
`}}return t?(d+=`
`+P(a(t),f),l&&l()):c&&o&&o(),d}function yn({comment:t,items:e},n,{flowChars:s,itemIndent:i,onComment:r}){const{indent:o,indentStep:l,flowCollectionPadding:f,options:{commentString:a}}=n;i+=l;const g=Object.assign({},n,{indent:i,inFlow:!0,type:null});let c=!1,u=0;const d=[];for(let O=0;O<e.length;++O){const y=e[O];let w=null;if(_(y))y.spaceBefore&&d.push(""),we(n,d,y.commentBefore,!1),y.comment&&(w=y.comment);else if(I(y)){const $=_(y.key)?y.key:null;$&&($.spaceBefore&&d.push(""),we(n,d,$.commentBefore,!1),$.comment&&(c=!0));const E=_(y.value)?y.value:null;E?(E.comment&&(w=E.comment),E.commentBefore&&(c=!0)):y.value==null&&$&&$.comment&&(w=$.comment)}w&&(c=!0);let S=q(y,g,()=>w=null);O<e.length-1&&(S+=","),w&&(S+=D(S,i,a(w))),!c&&(d.length>u||S.includes(`
`))&&(c=!0),d.push(S),u=d.length}let p;const{start:h,end:m}=s;if(d.length===0)p=h+m;else if(c||(c=d.reduce((y,w)=>y+w.length+2,2)>Oe.maxFlowStringSingleLineLength),c){p=h;for(const O of d)p+=O?`
${l}${o}${O}`:`
`;p+=`
${o}${m}`}else p=`${h}${f}${d.join(" ")}${f}${m}`;return t&&(p+=D(p,a(t),o),r&&r()),p}function we({indent:t,options:{commentString:e}},n,s,i){if(s&&i&&(s=s.replace(/^\n+/,"")),s){const r=P(e(s),t);n.push(r.trimStart())}}function R(t,e){const n=N(e)?e.value:e;for(const s of t)if(I(s)&&(s.key===e||s.key===n||N(s.key)&&s.key.value===n))return s}class F extends Oe{static get tagName(){return"tag:yaml.org,2002:map"}constructor(e){super(J,e),this.items=[]}add(e,n){var o;let s;I(e)?s=e:!e||typeof e!="object"||!("key"in e)?s=new L(e,e==null?void 0:e.value):s=new L(e.key,e.value);const i=R(this.items,s.key),r=(o=this.schema)==null?void 0:o.sortMapEntries;if(i){if(!n)throw new Error(`Key ${s.key} already set`);N(i.value)&&yt(s.value)?i.value.value=s.value:i.value=s.value}else if(r){const l=this.items.findIndex(f=>r(s,f)<0);l===-1?this.items.push(s):this.items.splice(l,0,s)}else this.items.push(s)}delete(e){const n=R(this.items,e);return n?this.items.splice(this.items.indexOf(n),1).length>0:!1}get(e,n){const s=R(this.items,e),i=s==null?void 0:s.value;return(!n&&N(i)?i.value:i)??void 0}has(e){return!!R(this.items,e)}set(e,n){this.add(new L(e,n),!0)}toJSON(e,n,s){const i=s?new s:n!=null&&n.mapAsMap?new Map:{};n!=null&&n.onCreate&&n.onCreate(i);for(const r of this.items)wt(n,i,r);return i}toString(e,n,s){if(!e)return JSON.stringify(this);for(const i of this.items)if(!I(i))throw new Error(`Map items must all be pairs; found ${JSON.stringify(i)} instead`);return!e.allNullValues&&this.hasAllNullValues(!1)&&(e=Object.assign({},e,{allNullValues:!0})),St(this,e,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:e.indent||"",onChompKeep:s,onComment:n})}}function pn(t,e,n){const{keepUndefined:s,replacer:i}=n,r=new F(t),o=(l,f)=>{if(typeof i=="function")f=i.call(e,l,f);else if(Array.isArray(i)&&!i.includes(l))return;(f!==void 0||s)&&r.items.push(Re(l,f,n))};if(e instanceof Map)for(const[l,f]of e)o(l,f);else if(e&&typeof e=="object")for(const l of Object.keys(e))o(l,e[l]);return typeof t.sortMapEntries=="function"&&r.items.sort(t.sortMapEntries),r}const ee={collection:"map",createNode:pn,default:!0,nodeClass:F,tag:"tag:yaml.org,2002:map",resolve(t,e){return le(t)||e("Expected a mapping for this tag"),t}};class Ae extends Oe{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(e){super(Z,e),this.items=[]}add(e){this.items.push(e)}delete(e){const n=ge(e);return typeof n!="number"?!1:this.items.splice(n,1).length>0}get(e,n){const s=ge(e);if(typeof s!="number")return;const i=this.items[s];return!n&&N(i)?i.value:i}has(e){const n=ge(e);return typeof n=="number"&&n<this.items.length}set(e,n){const s=ge(e);if(typeof s!="number")throw new Error(`Expected a valid index, not ${e}.`);const i=this.items[s];N(i)&&yt(n)?i.value=n:this.items[s]=n}toJSON(e,n){const s=[];n!=null&&n.onCreate&&n.onCreate(s);let i=0;for(const r of this.items)s.push(C(r,String(i++),n));return s}toString(e,n,s){return e?St(this,e,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(e.indent||"")+"  ",onChompKeep:s,onComment:n}):JSON.stringify(this)}}function ge(t){let e=N(t)?t.value:t;return e&&typeof e=="string"&&(e=Number(e)),typeof e=="number"&&Number.isInteger(e)&&e>=0?e:null}function bn(t,e,n){const{replacer:s}=n,i=new Ae(t);if(e&&Symbol.iterator in Object(e)){let r=0;for(let o of e){if(typeof s=="function"){const l=e instanceof Set?o:String(r++);o=s.call(e,l,o)}i.items.push(oe(o,void 0,n))}}return i}const te={collection:"seq",createNode:bn,default:!0,nodeClass:Ae,tag:"tag:yaml.org,2002:seq",resolve(t,e){return fe(t)||e("Expected a sequence for this tag"),t}},Ie={identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify(t,e,n,s){return e=Object.assign({actualString:!0},e),Ve(t,e,n,s)}},_e={identify:t=>t==null,createNode:()=>new b(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new b(null),stringify:({source:t},e)=>typeof t=="string"&&_e.test.test(t)?t:e.options.nullStr},Ye={identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:t=>new b(t[0]==="t"||t[0]==="T"),stringify({source:t,value:e},n){if(t&&Ye.test.test(t)){const s=t[0]==="t"||t[0]==="T";if(e===s)return t}return e?n.options.trueStr:n.options.falseStr}};function M({format:t,minFractionDigits:e,tag:n,value:s}){if(typeof s=="bigint")return String(s);const i=typeof s=="number"?s:Number(s);if(!isFinite(i))return isNaN(i)?".nan":i<0?"-.inf":".inf";let r=JSON.stringify(s);if(!t&&e&&(!n||n==="tag:yaml.org,2002:float")&&/^\d/.test(r)){let o=r.indexOf(".");o<0&&(o=r.length,r+=".");let l=e-(r.length-o-1);for(;l-- >0;)r+="0"}return r}const Ot={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:M},$t={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():M(t)}},Nt={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(t){const e=new b(parseFloat(t)),n=t.indexOf(".");return n!==-1&&t[t.length-1]==="0"&&(e.minFractionDigits=t.length-n-1),e},stringify:M},ke=t=>typeof t=="bigint"||Number.isInteger(t),qe=(t,e,n,{intAsBigInt:s})=>s?BigInt(t):parseInt(t.substring(e),n);function Et(t,e,n){const{value:s}=t;return ke(s)&&s>=0?n+s.toString(e):M(t)}const At={identify:t=>ke(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(t,e,n)=>qe(t,2,8,n),stringify:t=>Et(t,8,"0o")},It={identify:ke,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(t,e,n)=>qe(t,0,10,n),stringify:M},_t={identify:t=>ke(t)&&t>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(t,e,n)=>qe(t,2,16,n),stringify:t=>Et(t,16,"0x")},wn=[ee,te,Ie,_e,Ye,At,It,_t,Ot,$t,Nt];function it(t){return typeof t=="bigint"||Number.isInteger(t)}const he=({value:t})=>JSON.stringify(t),Sn=[{identify:t=>typeof t=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:t=>t,stringify:he},{identify:t=>t==null,createNode:()=>new b(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:he},{identify:t=>typeof t=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:t=>t==="true",stringify:he},{identify:it,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(t,e,{intAsBigInt:n})=>n?BigInt(t):parseInt(t,10),stringify:({value:t})=>it(t)?t.toString():JSON.stringify(t)},{identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:t=>parseFloat(t),stringify:he}],On={default:!0,tag:"",test:/^/,resolve(t,e){return e(`Unresolved plain scalar ${JSON.stringify(t)}`),t}},$n=[ee,te].concat(Sn,On),Qe={identify:t=>t instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(t,e){if(typeof Buffer=="function")return Buffer.from(t,"base64");if(typeof atob=="function"){const n=atob(t.replace(/[\n\r]/g,"")),s=new Uint8Array(n.length);for(let i=0;i<n.length;++i)s[i]=n.charCodeAt(i);return s}else return e("This environment does not support reading binary tags; either Buffer or atob is required"),t},stringify({comment:t,type:e,value:n},s,i,r){const o=n;let l;if(typeof Buffer=="function")l=o instanceof Buffer?o.toString("base64"):Buffer.from(o.buffer).toString("base64");else if(typeof btoa=="function"){let f="";for(let a=0;a<o.length;++a)f+=String.fromCharCode(o[a]);l=btoa(f)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(e||(e=b.BLOCK_LITERAL),e!==b.QUOTE_DOUBLE){const f=Math.max(s.options.lineWidth-s.indent.length,s.options.minContentWidth),a=Math.ceil(l.length/f),g=new Array(a);for(let c=0,u=0;c<a;++c,u+=f)g[c]=l.substr(u,f);l=g.join(e===b.BLOCK_LITERAL?`
`:" ")}return Ve({comment:t,type:e,value:l},s,i,r)}};function kt(t,e){if(fe(t))for(let n=0;n<t.items.length;++n){let s=t.items[n];if(!I(s)){if(le(s)){s.items.length>1&&e("Each pair must have its own sequence indicator");const i=s.items[0]||new L(new b(null));if(s.commentBefore&&(i.key.commentBefore=i.key.commentBefore?`${s.commentBefore}
${i.key.commentBefore}`:s.commentBefore),s.comment){const r=i.value??i.key;r.comment=r.comment?`${s.comment}
${r.comment}`:s.comment}s=i}t.items[n]=I(s)?s:new L(s)}}else e("Expected a sequence for this tag");return t}function jt(t,e,n){const{replacer:s}=n,i=new Ae(t);i.tag="tag:yaml.org,2002:pairs";let r=0;if(e&&Symbol.iterator in Object(e))for(let o of e){typeof s=="function"&&(o=s.call(e,String(r++),o));let l,f;if(Array.isArray(o))if(o.length===2)l=o[0],f=o[1];else throw new TypeError(`Expected [key, value] tuple: ${o}`);else if(o&&o instanceof Object){const a=Object.keys(o);if(a.length===1)l=a[0],f=o[l];else throw new TypeError(`Expected { key: value } tuple: ${o}`)}else l=o;i.items.push(Re(l,f,n))}return i}const We={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:kt,createNode:jt};class z extends Ae{constructor(){super(),this.add=F.prototype.add.bind(this),this.delete=F.prototype.delete.bind(this),this.get=F.prototype.get.bind(this),this.has=F.prototype.has.bind(this),this.set=F.prototype.set.bind(this),this.tag=z.tag}toJSON(e,n){if(!n)return super.toJSON(e);const s=new Map;n!=null&&n.onCreate&&n.onCreate(s);for(const i of this.items){let r,o;if(I(i)?(r=C(i.key,"",n),o=C(i.value,r,n)):r=C(i,"",n),s.has(r))throw new Error("Ordered maps must not include duplicate keys");s.set(r,o)}return s}}z.tag="tag:yaml.org,2002:omap";const Ge={collection:"seq",identify:t=>t instanceof Map,nodeClass:z,default:!1,tag:"tag:yaml.org,2002:omap",resolve(t,e){const n=kt(t,e),s=[];for(const{key:i}of n.items)N(i)&&(s.includes(i.value)?e(`Ordered maps must not include duplicate keys: ${i.value}`):s.push(i.value));return Object.assign(new z,n)},createNode(t,e,n){const s=jt(t,e,n),i=new z;return i.items=s.items,i}};function Lt({value:t,source:e},n){return e&&(t?Bt:Tt).test.test(e)?e:t?n.options.trueStr:n.options.falseStr}const Bt={identify:t=>t===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new b(!0),stringify:Lt},Tt={identify:t=>t===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new b(!1),stringify:Lt},Nn={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:t=>t.slice(-3).toLowerCase()==="nan"?NaN:t[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:M},En={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:t=>parseFloat(t.replace(/_/g,"")),stringify(t){const e=Number(t.value);return isFinite(e)?e.toExponential():M(t)}},An={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(t){const e=new b(parseFloat(t.replace(/_/g,""))),n=t.indexOf(".");if(n!==-1){const s=t.substring(n+1).replace(/_/g,"");s[s.length-1]==="0"&&(e.minFractionDigits=s.length)}return e},stringify:M},ae=t=>typeof t=="bigint"||Number.isInteger(t);function je(t,e,n,{intAsBigInt:s}){const i=t[0];if((i==="-"||i==="+")&&(e+=1),t=t.substring(e).replace(/_/g,""),s){switch(n){case 2:t=`0b${t}`;break;case 8:t=`0o${t}`;break;case 16:t=`0x${t}`;break}const o=BigInt(t);return i==="-"?BigInt(-1)*o:o}const r=parseInt(t,n);return i==="-"?-1*r:r}function He(t,e,n){const{value:s}=t;if(ae(s)){const i=s.toString(e);return s<0?"-"+n+i.substr(1):n+i}return M(t)}const In={identify:ae,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(t,e,n)=>je(t,2,2,n),stringify:t=>He(t,2,"0b")},_n={identify:ae,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(t,e,n)=>je(t,1,8,n),stringify:t=>He(t,8,"0")},kn={identify:ae,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(t,e,n)=>je(t,0,10,n),stringify:M},jn={identify:ae,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(t,e,n)=>je(t,2,16,n),stringify:t=>He(t,16,"0x")};class X extends F{constructor(e){super(e),this.tag=X.tag}add(e){let n;I(e)?n=e:e&&typeof e=="object"&&"key"in e&&"value"in e&&e.value===null?n=new L(e.key,null):n=new L(e,null),R(this.items,n.key)||this.items.push(n)}get(e,n){const s=R(this.items,e);return!n&&I(s)?N(s.key)?s.key.value:s.key:s}set(e,n){if(typeof n!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof n}`);const s=R(this.items,e);s&&!n?this.items.splice(this.items.indexOf(s),1):!s&&n&&this.items.push(new L(e))}toJSON(e,n){return super.toJSON(e,n,Set)}toString(e,n,s){if(!e)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},e,{allNullValues:!0}),n,s);throw new Error("Set items must all have null values")}}X.tag="tag:yaml.org,2002:set";const ze={collection:"map",identify:t=>t instanceof Set,nodeClass:X,default:!1,tag:"tag:yaml.org,2002:set",resolve(t,e){if(le(t)){if(t.hasAllNullValues(!0))return Object.assign(new X,t);e("Set items must all have null values")}else e("Expected a mapping for this tag");return t},createNode(t,e,n){const{replacer:s}=n,i=new X(t);if(e&&Symbol.iterator in Object(e))for(let r of e)typeof s=="function"&&(r=s.call(e,r,r)),i.items.push(Re(r,null,n));return i}};function Xe(t,e){const n=t[0],s=n==="-"||n==="+"?t.substring(1):t,i=o=>e?BigInt(o):Number(o),r=s.replace(/_/g,"").split(":").reduce((o,l)=>o*i(60)+i(l),i(0));return n==="-"?i(-1)*r:r}function Mt(t){let{value:e}=t,n=o=>o;if(typeof e=="bigint")n=o=>BigInt(o);else if(isNaN(e)||!isFinite(e))return M(t);let s="";e<0&&(s="-",e*=n(-1));const i=n(60),r=[e%i];return e<60?r.unshift(0):(e=(e-r[0])/i,r.unshift(e%i),e>=60&&(e=(e-r[0])/i,r.unshift(e))),s+r.map(o=>o<10?"0"+String(o):String(o)).join(":").replace(/000000\d*$/,"")}const Ct={identify:t=>typeof t=="bigint"||Number.isInteger(t),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(t,e,{intAsBigInt:n})=>Xe(t,n),stringify:Mt},Pt={identify:t=>typeof t=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:t=>Xe(t,!1),stringify:Mt},Le={identify:t=>t instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(t){const e=t.match(Le.test);if(!e)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,n,s,i,r,o,l]=e.map(Number),f=e[7]?Number((e[7]+"00").substr(1,3)):0;let a=Date.UTC(n,s-1,i,r||0,o||0,l||0,f);const g=e[8];if(g&&g!=="Z"){let c=Xe(g,!1);Math.abs(c)<30&&(c*=60),a-=6e4*c}return new Date(a)},stringify:({value:t})=>t.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},rt=[ee,te,Ie,_e,Bt,Tt,In,_n,kn,jn,Nn,En,An,Qe,Ge,We,ze,Ct,Pt,Le],ot=new Map([["core",wn],["failsafe",[ee,te,Ie]],["json",$n],["yaml11",rt],["yaml-1.1",rt]]),lt={binary:Qe,bool:Ye,float:Nt,floatExp:$t,floatNaN:Ot,floatTime:Pt,int:It,intHex:_t,intOct:At,intTime:Ct,map:ee,null:_e,omap:Ge,pairs:We,seq:te,set:ze,timestamp:Le},Ln={"tag:yaml.org,2002:binary":Qe,"tag:yaml.org,2002:omap":Ge,"tag:yaml.org,2002:pairs":We,"tag:yaml.org,2002:set":ze,"tag:yaml.org,2002:timestamp":Le};function Pe(t,e){let n=ot.get(e);if(!n)if(Array.isArray(t))n=[];else{const s=Array.from(ot.keys()).filter(i=>i!=="yaml11").map(i=>JSON.stringify(i)).join(", ");throw new Error(`Unknown schema "${e}"; use one of ${s} or define customTags array`)}if(Array.isArray(t))for(const s of t)n=n.concat(s);else typeof t=="function"&&(n=t(n.slice()));return n.map(s=>{if(typeof s!="string")return s;const i=lt[s];if(i)return i;const r=Object.keys(lt).map(o=>JSON.stringify(o)).join(", ");throw new Error(`Unknown custom tag "${s}"; use one of ${r}`)})}const Bn=(t,e)=>t.key<e.key?-1:t.key>e.key?1:0;class Ze{constructor({compat:e,customTags:n,merge:s,resolveKnownTags:i,schema:r,sortMapEntries:o,toStringDefaults:l}){this.compat=Array.isArray(e)?Pe(e,"compat"):e?Pe(null,e):null,this.merge=!!s,this.name=typeof r=="string"&&r||"core",this.knownTags=i?Ln:{},this.tags=Pe(n,this.name),this.toStringOptions=l??null,Object.defineProperty(this,J,{value:ee}),Object.defineProperty(this,Se,{value:Ie}),Object.defineProperty(this,Z,{value:te}),this.sortMapEntries=typeof o=="function"?o:o===!0?Bn:null}clone(){const e=Object.create(Ze.prototype,Object.getOwnPropertyDescriptors(this));return e.tags=this.tags.slice(),e}}function Tn(t,e){var f;const n=[];let s=e.directives===!0;if(e.directives!==!1&&t.directives){const a=t.directives.toString(t);a?(n.push(a),s=!0):t.directives.docStart&&(s=!0)}s&&n.push("---");const i=bt(t,e),{commentString:r}=i.options;if(t.commentBefore){n.length!==1&&n.unshift("");const a=r(t.commentBefore);n.unshift(P(a,""))}let o=!1,l=null;if(t.contents){if(_(t.contents)){if(t.contents.spaceBefore&&s&&n.push(""),t.contents.commentBefore){const c=r(t.contents.commentBefore);n.push(P(c,""))}i.forceBlockIndent=!!t.comment,l=t.contents.comment}const a=l?void 0:()=>o=!0;let g=q(t.contents,i,()=>l=null,a);l&&(g+=D(g,"",r(l))),(g[0]==="|"||g[0]===">")&&n[n.length-1]==="---"?n[n.length-1]=`--- ${g}`:n.push(g)}else n.push(q(t.contents,i));if((f=t.directives)!=null&&f.docEnd)if(t.comment){const a=r(t.comment);a.includes(`
`)?(n.push("..."),n.push(P(a,""))):n.push(`... ${a}`)}else n.push("...");else{let a=t.comment;a&&o&&(a=a.replace(/^\n+/,"")),a&&((!o||l)&&n[n.length-1]!==""&&n.push(""),n.push(P(r(a),"")))}return n.join(`
`)+`
`}function se(t,e,n,s){if(s&&typeof s=="object")if(Array.isArray(s))for(let i=0,r=s.length;i<r;++i){const o=s[i],l=se(t,s,String(i),o);l===void 0?delete s[i]:l!==o&&(s[i]=l)}else if(s instanceof Map)for(const i of Array.from(s.keys())){const r=s.get(i),o=se(t,s,i,r);o===void 0?s.delete(i):o!==r&&s.set(i,o)}else if(s instanceof Set)for(const i of Array.from(s)){const r=se(t,s,i,i);r===void 0?s.delete(i):r!==i&&(s.delete(i),s.add(r))}else for(const[i,r]of Object.entries(s)){const o=se(t,s,i,r);o===void 0?delete s[i]:o!==r&&(s[i]=o)}return t.call(e,n,s)}class V{constructor(e,n,s){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,B,{value:Fe});let i=null;typeof n=="function"||Array.isArray(n)?i=n:s===void 0&&n&&(s=n,n=void 0);const r=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},s);this.options=r;let{version:o}=r;s!=null&&s._directives?(this.directives=s._directives.atDocument(),this.directives.yaml.explicit&&(o=this.directives.yaml.version)):this.directives=new k({version:o}),this.setSchema(o,s),e===void 0?this.contents=null:this.contents=this.createNode(e,i,s)}clone(){const e=Object.create(V.prototype,{[B]:{value:Fe}});return e.commentBefore=this.commentBefore,e.comment=this.comment,e.errors=this.errors.slice(),e.warnings=this.warnings.slice(),e.options=Object.assign({},this.options),this.directives&&(e.directives=this.directives.clone()),e.schema=this.schema.clone(),e.contents=_(this.contents)?this.contents.clone(e.schema):this.contents,this.range&&(e.range=this.range.slice()),e}add(e){W(this.contents)&&this.contents.add(e)}addIn(e,n){W(this.contents)&&this.contents.addIn(e,n)}createAlias(e,n){if(!e.anchor){const s=gt(this);e.anchor=!n||s.has(n)?ht(n||"a",s):n}return new mt(e.anchor)}createNode(e,n,s){let i;if(typeof n=="function")e=n.call({"":e},"",e),i=n;else if(Array.isArray(n)){const m=y=>typeof y=="number"||y instanceof String||y instanceof Number,O=n.filter(m).map(String);O.length>0&&(n=n.concat(O)),i=n}else s===void 0&&n&&(s=n,n=void 0);const{aliasDuplicateObjects:r,anchorPrefix:o,flow:l,keepUndefined:f,onTagObj:a,tag:g}=s??{},{onAnchor:c,setAnchors:u,sourceObjects:d}=nn(this,o||"a"),p={aliasDuplicateObjects:r??!0,keepUndefined:f??!1,onAnchor:c,onTagObj:a,replacer:i,schema:this.schema,sourceObjects:d},h=oe(e,g,p);return l&&A(h)&&(h.flow=!0),u(),h}createPair(e,n,s={}){const i=this.createNode(e,null,s),r=this.createNode(n,null,s);return new L(i,r)}delete(e){return W(this.contents)?this.contents.delete(e):!1}deleteIn(e){return ne(e)?this.contents==null?!1:(this.contents=null,!0):W(this.contents)?this.contents.deleteIn(e):!1}get(e,n){return A(this.contents)?this.contents.get(e,n):void 0}getIn(e,n){return ne(e)?!n&&N(this.contents)?this.contents.value:this.contents:A(this.contents)?this.contents.getIn(e,n):void 0}has(e){return A(this.contents)?this.contents.has(e):!1}hasIn(e){return ne(e)?this.contents!==void 0:A(this.contents)?this.contents.hasIn(e):!1}set(e,n){this.contents==null?this.contents=be(this.schema,[e],n):W(this.contents)&&this.contents.set(e,n)}setIn(e,n){ne(e)?this.contents=n:this.contents==null?this.contents=be(this.schema,Array.from(e),n):W(this.contents)&&this.contents.setIn(e,n)}setSchema(e,n={}){typeof e=="number"&&(e=String(e));let s;switch(e){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new k({version:"1.1"}),s={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=e:this.directives=new k({version:e}),s={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,s=null;break;default:{const i=JSON.stringify(e);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${i}`)}}if(n.schema instanceof Object)this.schema=n.schema;else if(s)this.schema=new Ze(Object.assign(s,n));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:e,jsonArg:n,mapAsMap:s,maxAliasCount:i,onAnchor:r,reviver:o}={}){const l={anchors:new Map,doc:this,keep:!e,mapAsMap:s===!0,mapKeyWarned:!1,maxAliasCount:typeof i=="number"?i:100,stringify:q},f=C(this.contents,n??"",l);if(typeof r=="function")for(const{count:a,res:g}of l.anchors.values())r(g,a);return typeof o=="function"?se(o,{"":f},"",f):f}toJSON(e,n){return this.toJS({json:!0,jsonArg:e,mapAsMap:!1,onAnchor:n})}toString(e={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in e&&(!Number.isInteger(e.indent)||Number(e.indent)<=0)){const n=JSON.stringify(e.indent);throw new Error(`"indent" option must be a positive integer, not ${n}`)}return Tn(this,e)}}function W(t){if(A(t))return!0;throw new Error("Expected a YAML collection as document contents")}function Mn(t,e=!0){const n=ft(null),s=Gt();function i(){var o,l,f;t=j(t);const r=new V({version:"3.8"});s.comments&&(r.commentBefore=t.name+" - Generated by SH-Apps-Meta");for(const a of t.containers){const g=new V({[a.name]:{image:a.image,container_name:t.id!==a.name?`${t.id}-${a.name}`:a.name,restart:"unless-stopped"}});if((((o=a.ports)==null?void 0:o.length)??[])>0){g.addIn([a.name,"ports"],new V([]));for(const c of a.ports??[]){const u=g.createNode(`${c.container}:${c.container}`);s.comments&&c.description&&(c.web?u.commentBefore=` ${c.description} (Web)`:u.commentBefore=` ${c.description}`),g.addIn([a.name,"ports"],u)}}if((((l=a.volumes)==null?void 0:l.length)??[])>0){g.addIn([a.name,"volumes"],new V([]));for(const c of a.volumes??[]){const u=g.createNode(`< /path/to/your${c.container}>:${c.container}`);s.comments&&c.description&&(u.commentBefore=` ${c.description}`),g.addIn([a.name,"volumes"],u)}}if((((f=a.env)==null?void 0:f.length)??[])>0){g.addIn([a.name,"environment"],new V([]));for(const c of a.env??[]){const u=g.createNode(`${c.id}=${c.default??"YOUR-VALUE-HERE"}`);s.comments&&c.description&&(u.commentBefore=` ${c.description}`),g.addIn([a.name,"environment"],u)}}r.addIn(["services"],g)}n.value=r.toString({commentString:a=>`# ${a}`,indent:2})}return at(t)?ct(i):i(),{yaml:n}}function Cn(t){const e=ft(null);function n(){return t=j(t),e.value=JSON.stringify({type:2,title:t.name,description:t.description,note:"Generated by SH-Apps-Meta",platform:"linux",logo:t.icon,categories:[...(t==null?void 0:t.categories)??[],"sh-apps-meta"],env:t.containers.flatMap(s=>{var i;return(i=s.env)==null?void 0:i.map(r=>({name:r.id,label:r.id,description:r.description,default:r.default}))}),repository:{url:"https://github.com/tylergets/selfhosted-apps-meta",stackfile:`content/portainer/stack/${t.id}.yml`}},null,4)}return at(t)?ct(n):n(),{template:e}}const Pn={key:0},Fn={class:"max-w-5xl mx-aut"},Dn={class:"flex items-center gap-10"},Jn=["src"],Kn={class:"flex flex-col gap-2"},vn={class:"text-3xl"},Un={class:"flex gap-2"},Vn=["href"],Rn={class:"bg-gray-100 rounded p-4"},Yn=["innerHTML"],ts={__name:"[id]",async setup(t){let e,n;const s=Jt(),{data:i,pending:r}=([e,n]=Kt(()=>qt(s.params.id,()=>Qt("/apps/"+s.params.id).findOne(),"$lInKmKC8Gd")),e=await e,n(),e);Wt({title:r?"Loading":i.value.name,meta:[{hid:"description",name:"description",content:r?"Loading":i.value.description}]});const{$mdRenderer:o}=vt(),{yaml:l}=Mn(i),{template:f}=Cn(i),a=Ut(()=>o.render(i.value.setup));return(g,c)=>{const u=Dt;return j(r)?tt("",!0):(ce(),Te("div",Pn,[T("div",Fn,[T("div",Dn,[T("div",null,[T("img",{class:"h-24",src:j(i).icon},null,8,Jn)]),T("div",Kn,[T("div",vn,Me(j(i).name),1),T("p",null,Me(j(i).description),1),T("div",Un,[(ce(!0),Te(Vt,null,Rt(j(i).links,d=>(ce(),Te("div",null,[T("a",{target:"_blank",href:d.url,class:"text-blue-500 underline"},Me(d.type),9,Vn)]))),256))])])])]),j(i).setup?(ce(),Yt(de,{key:0,title:"Setup"},{default:ue(()=>[T("div",Rn,[T("div",{class:"prose prose-sm max-w-none",innerHTML:j(a)},null,8,Yn)])]),_:1})):tt("",!0),Q(de,{title:"Docker Compose"},{default:ue(()=>[Q(u,{code:j(l)},null,8,["code"])]),_:1}),Q(de,{title:"Portainer Stack"},{default:ue(()=>[Q(u,{code:j(f)},null,8,["code"])]),_:1}),Q(de,{title:"Complete Meta Data"},{default:ue(()=>[Q(u,{code:JSON.stringify(j(i),null,4)},null,8,["code"])]),_:1})]))}}};export{ts as default};
//# sourceMappingURL=_id_.b94556fe.js.map
